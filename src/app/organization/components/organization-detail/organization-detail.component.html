<div class="main">
  <div class="header">
    <div class="title">
      <h1>{{ organization?.name + " (" + organization?.shortName + ")" }}</h1>
      <span
        class="status-chip"
        [ngClass]="{
          'active-status': organization?.isActive,
          'inactive-status': !organization?.isActive
        }"
      >
        {{ organization?.isActive ? "Active" : "Inactive" }}
      </span>
    </div>
    <div class="side-header">
      <div class="add-buttons">
        <button class="actions-btn" mat-flat-button [matMenuTriggerFor]="menu">Actions</button>
        <mat-menu #menu="matMenu">
          <button
            mat-menu-item
            (click)="openCreateMemberDialog()"
            *ngIf="decodedToken.id === organization?.userId"
          >
            Add Member
          </button>
          <button
            mat-menu-item
            (click)="openFileUploadDialog()"
            *ngIf="decodedToken.id === organization?.userId"
          >
            Upload Members
          </button>
          <button
            mat-menu-item
            (click)="downloadCsvTemplate()"
            *ngIf="decodedToken.id === organization?.userId"
          >
            Download Csv Template
          </button>
          <button
            mat-menu-item
            (click)="downloadXlsxTemplate()"
            *ngIf="decodedToken.id === organization?.userId"
          >
            Download xlsx Template
          </button>
          <button
            mat-menu-item
            (click)="openCreateElectionDialog()"
            *ngIf="decodedToken.id === organization?.userId"
          >
            Create Election
          </button>
        </mat-menu>
      </div>
    </div>
  </div>
  <div class="container">
    <table class="styled-table">
      <thead>
        <tr>
          <th>Full Name</th>
          <th>Email Name</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let member of organization?.members">
          <td>{{ member.name }}</td>
          <td>{{ member.email }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
